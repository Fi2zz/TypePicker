!function (e, t) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.DatePicker = t()
}(this, function () {
    "use strict";
    function e(e) {
        return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e
    }

    function t(e, t) {
        return t = {exports: {}}, e(t, t.exports), t.exports
    }

    var a = t(function (e, t) {
        t.__esModule = !0;
        var a = function () {
            var e = {};
            return {
                $on: function (t, a) {
                    e[t] || (e[t] = []), e[t].push(a)
                }, $emit: function (t, a) {
                    var n = arguments, r = this, i = [].shift.call(arguments), l = e[i];
                    if (!l || 0 === l.length)return !1;
                    for (var s = 0, d = void 0; d = l[s++];)d.apply(r, n)
                }, $remove: function (t, a) {
                    var n = e[t];
                    if (!n)return !1;
                    if (a)for (var r = n.length - 1; r >= 0; r--)n[r] === a && n.splice(r, 1); else n && (n.length = 0)
                }
            }
        }();
        t.default = a
    });
    e(a);
    var n = t(function (e, t) {
        function a(e) {
            return "[object Array]" === n(e)
        }

        t.__esModule = !0, t.diff = function (e, t, a) {
            if (void 0 === a && (a = "month"), "month" == a)return Math.abs(12 * e.getFullYear() + e.getMonth() - (12 * t.getFullYear() + t.getMonth()));
            if ("days" === a) {
                var n = new Date(e.getFullYear(), e.getMonth(), e.getDate()),
                    r = new Date(t.getFullYear(), t.getMonth(), t.getDate());
                return Math.round(n - r) / 864e5
            }
        }, t.attrSelector = function (e, t) {
            return "[" + e + '="' + t + '"]'
        }, t.getDates = function (e, t) {
            var a = new Date(e, t, 1), n = Date.UTC(a.getFullYear(), a.getMonth() + 1, 0);
            return new Date(n).getUTCDate()
        }, t.padding = function (e) {
            return "" + (e > 9 ? e : "0" + e)
        }, t.getFirstDay = function (e, t) {
            return new Date(e, t, 1).getDay()
        }, t.getWeeksOfMonth = function (e) {
            var t = new Date(e.getFullYear(), e.getMonth() - 1, 1), a = new Date(e.getFullYear(), e.getMonth(), 0),
                n = t.getDay() + a.getDate();
            return Math.ceil(n / 7)
        }, t.getLastDay = function (e, t) {
            return new Date(e, t + 1, 0).getDay()
        }, t.getLastDates = function (e) {
            for (var a = t.getLastDay(e.getFullYear(), e.getMonth()), n = e.getDate() - a, r = [], i = 0; i <= a; i++)n + i <= e.getDate() && r.push(n + i);
            return r
        }, t.inArray = function (e, t) {
            return !!a(e) && ~e.indexOf(t)
        }, t.attr = function (e, t, a) {
            if (void 0 === a && (a = void 0), !e)return null;
            var n = e.getAttribute(t);
            return void 0 === a && (a = ""), n || e.setAttribute(t, a)
        }, t.remove = function (e, t) {
            if (~e.indexOf(t)) {
                var a = e.indexOf(t);
                e.splice(a, 1)
            }
            return e
        };
        var n = function (e) {
            return Object.prototype.toString.call(e)
        };
        t.isBoolean = function (e) {
            return "[object Boolean]" === n(e)
        }, t.isArray = a, t.isObject = function (e) {
            return "[object Object]" === n(e)
        }, t.isNumber = function (e) {
            return "[object Number]" === n(e)
        }, t.isString = function (e) {
            return "[object String]" === n(e)
        }, t.isDate = function (e) {
            return "[object Date]" === n(e)
        }, t.hasClass = function (e, t) {
            return !!e && e.classList.contains(t)
        }, t.removeClass = function (e, t) {
            if (e)return e.classList.remove(t)
        }, t.addClass = function (e, t) {
            if (e && !e.classList.contains(t))return e.classList.add(t)
        }, t.element = function (e, t) {
            var a = e.querySelectorAll(t);
            return !(a.length <= 0) && (a.length <= 1 ? a[0] : a)
        }, t.parseEl = function (e) {
            return e ? e.indexOf("#") >= 0 ? document.querySelector(e) : e.indexOf(".") >= 0 ? document.querySelectorAll(e)[0] : ~["a", "p", "div", "section", "span", "article", "header", "footer", "main", "aside", "i", "strong", "small", "tr", "table"].indexOf(e) ? (console.error("[DatePicker Warn] do not mount datepicker to pure html tag, use class name or id instead "), null) : document.querySelector(e) : null
        }, t.defaultLanguage = {
            locale: "zh-cn",
            pack: {
                days: ["\u65e5", "\u4e00", "\u4e8c", "\u4e09", "\u56db", "\u4e94", "\u516d"],
                months: ["01\u6708", "02\u6708", "03\u6708", "04\u6708", "05\u6708", "06\u6708", "07\u6708", "08\u6708", "09\u6708", "10\u6708", "11\u6708", "12\u6708"],
                year: "\u5e74"
            }
        }, t.setLanguage = function (e) {
            var t, a = e.locale.toLowerCase(), n = e.pack, r = n.months, i = n.days;
            return t = "en" === a || "en-us" === a || "en-gb" === a ? function (e, t) {
                return r[t] + " " + e
            } : function (e, t) {
                return "" + e + n.year + r[t]
            }, {week: i, title: t}
        }, t.getLanguage = function (e, a) {
            return a && e[a] ? {locale: a, pack: e[a]} : t.defaultLanguage
        }
    });
    e(n);
    var r = t(function (e, t) {
        function a(e) {
            return parseInt(e, 10)
        }

        function r(e) {
            if (!e)return new Date;
            if (e instanceof Date)return e;
            var t = new Date(e);
            return t.getTime() || (t = null), t
        }

        t.__esModule = !0, t.format = function (e, t, a) {
            var r = {DD: n.padding(e.getDate()), MM: n.padding(e.getMonth() + 1), YYYY: e.getFullYear()};
            return {
                origin: e,
                date: r.DD,
                month: r.MM,
                year: r.YYYy,
                day: e.getDay(),
                value: t.replace(/(?:\b|%)([dDMyYHhaAmsz]+|ap|AP)(?:\b|%)/g, function (e, t) {
                    return void 0 === r[t] ? t : r[t]
                })
            }
        }, t.parseFormatted = function (e, t) {
            var n, i, l, s = {
                DD: "([0-9][0-9])",
                dd: "([0-9][0-9])",
                MM: "([0-9][0-9])",
                mm: "([0-9][0-9])",
                YYYY: "([0-9][0-9][0-9][0-9])",
                yyyy: "([0-9][0-9][0-9][0-9])",
                "%": ""
            }, d = "", o = 0, u = [""], c = "", h = r(e);
            if (h)return h;
            for (h = new Date(2e3, 0, 1); o < t.length;) {
                for (n = t.charAt(o); o + 1 < t.length && void 0 !== s[n + t.charAt(o + 1)];)n += t.charAt(++o);
                void 0 !== (c = s[n]) ? "" !== c && (d += s[n], u.push(n)) : d += n, o++
            }
            if (i = e.match(new RegExp(d)), l = u.length, !i || i.length !== l)return null;
            for (o = 0; o < l; o++)if ("" !== (n = u[o]))switch (c = a(i[o]), n) {
                case"YYYY":
                    h.setYear(c);
                    break;
                case"MM":
                    h.setMonth(c);
                    break;
                case"DD":
                    h.setDate(c)
            }
            return h
        }
    });
    e(r);
    var i = t(function (e, t) {
        function a(e) {
            var t = ["calendar-cell", " calendar-date-cell"];
            return e ? (n.diff(e, o, "days") < 0 && t.push("disabled"), 0 === e.getDay() && t.push("calendar-cell-weekend"), 6 === e.getDay() && t.push("calendar-cell-weekday")) : (t.push("disabled"), t.push("empty")), t.join(" ")
        }

        function i(e, t, i) {
            for (var l = [], s = new Date(e, t, 1), d = {
                year: s.getFullYear(),
                month: s.getMonth(),
                date: s.getDate(),
                index: s.getMonth()
            }, o = n.getFirstDay(d.year, d.month), u = 0; u < o; u++)l.push({
                date: "",
                className: a(),
                text: "<div class='date'></div><div class='placeholder'></div>",
                key: ""
            });
            for (var c = 1; c <= n.getDates(d.year, d.month); c++) {
                var h = new Date(d.year, d.month, c), f = r.format(h, i).value,
                    v = '<div class="date">' + n.padding(c) + '</div><div class="placeholder"></div>';
                l.push({date: c, className: a(h), text: v, key: f})
            }
            return {
                template: l.map(function (e) {
                    return '<div class="' + e.className + '" data-date="' + e.key + '">' + e.text + "</div>"
                }).join(" "), year: d.year, month: d.index
            }
        }

        function l(e, t, a) {
            for (var n = [], r = 0; r <= a; r++) {
                var l = new Date(e.getFullYear(), e.getMonth() + r, 1), s = i(l.getFullYear(), l.getMonth(), t);
                n.push({template: s.template, year: s.year, month: s.month})
            }
            return n
        }

        function s(e, t) {
            return t ? "" : " calendar-" + e
        }

        function d(e, t, a, n) {
            var r = n.week.map(function (e, t) {
                var a = ["calendar-cell", "calendar-day-cell"];
                return 0 === t ? a.push("calendar-cell-weekday") : 6 === t && a.push("calendar-cell-weekend"), '<div class="' + a.join(" ") + '">' + e + "</div>"
            }).join(""), i = e.map(function (e, i) {
                var l = e.year, d = e.month, o = '<div class="calendar-title">' + n.title(l, d) + "</div>",
                    u = e.template, c = "";
                return t || a ? c = '<div class="calendar-main' + s(i, a) + '">\n                   <div class="calendar-head">' + o + '</div>  \n                   <div class="calendar-day"> ' + r + '</div>\n                    <div class="calendar-body">' + u + "</div>\n            </div>" : c += "<div class='calendar-main calendar-" + i + '\'>\n                    <div class="calendar-head">' + o + '</div>\n                    <div class="calendar-body">' + u + "</div>\n              </div>", c
            });
            return t || a || i.unshift('<div class="calendar-day">' + r + "</div>"), i.join("")
        }

        t.__esModule = !0;
        var o = new Date;
        t.default = function (e, t, a, r, i, s) {
            var o = "calendar-" + (r ? "double-views" : i ? "single-view" : "flat-view"),
                u = d(l(e, a, r ? 1 : i ? 0 : n.diff(e, t)), r, i, s);
            return '<div class="calendar ' + o + '"> ' + (r || i ? "\n         <div class=\"calendar-action-bar\">\n            <button class='calendar-action calendar-action-prev'><span>prev</span></button>\n            <button class='calendar-action calendar-action-next'><span>next</span></button>\n         </div>\n        " : "") + u + "</div>"
        }
    });
    e(i);
    var l = t(function (e, t) {
        function a(e, t, a) {
            for (var r = [], i = 0; i < e.length; i++) {
                var l = n.attr(e[i], "data-date");
                l && r.push(l)
            }
            for (var s = -1, d = -1, i = 0; i < r.length; i++) {
                var o = r[i];
                o === t ? s = i : o === a && (d = i)
            }
            return d === s || d < 0 ? [] : r.slice(s + 1, d)
        }

        function r(e, t, a) {
            for (var r = [], i = a[0], l = a[a.length - 1], s = 0; s < e.length; s++) {
                var d = e[s], o = e[s + 1];
                if (a.length > 0) {
                    var u = n.attr(e[s], "data-date");
                    u === i ? n.addClass(d, "start-date") : u === l && n.addClass(d, "end-date")
                } else if (d && o) {
                    var c = n.attr(d, "data-date"), h = n.attr(o, "data-date");
                    (t[h] && t[c] || t[c] && !t[h]) && r.length < 2 && (n.addClass(d, "start-date"), n.addClass(o, "end-date"), r.push(c, h))
                }
            }
            return a.length > 0 && (r = a), r
        }

        function i(e, t) {
            for (var a = 0; a < e.length; a++) {
                var r = e[a];
                n.attr(r, "data-date") === t && n.addClass(r, "active")
            }
        }

        function l(e, t, a) {
            if (a)for (var r = t.querySelectorAll(".in-range"), i = 0; i < r.length; i++)n.removeClass(r[i], "in-range"); else for (i = 0; i < e.length; i++) {
                var l = n.attrSelector("data-date", e[i]), s = t.querySelector(l);
                n.hasClass(s, "active") || n.addClass(s, "in-range")
            }
        }

        t.__esModule = !0, t.ranged = l, t.setDefaultRange = function (e, t, n, s, d, o) {
            var u = [];
            if (o) {
                var c = a(t, (u = r(t, d, n))[0], u[u.length - 1]);
                c.length > 0 && l(c, e, !1)
            } else u = n.length > 0 ? n : [s];
            for (var h = 0; h < u.length; h++)i(t, u[h]);
            return u
        }
    });
    e(l);
    var s = t(function (e, t) {
        t.__esModule = !0, t.monthSwitch = function (e, t, n) {
            var r = {year: this.date.getFullYear(), month: this.date.getMonth(), date: this.date.getDate()},
                i = r.month + e;
            this.date = new Date(r.year, i, r.date), this.buildCalendar(t, n), this.handlePickDate(this.element, this.selected, this.double, this.data, this.parse, this.format, this.limit, this.update), a.default.$emit("data", {
                data: this.data,
                nodeList: this.element.querySelectorAll(".calendar-date-cell")
            })
        }, t.buildCalendar = function (e, t) {
            var a = this;
            if (this.element = n.parseEl(e), !this.element)return console.error("[Calendar Warn] invalid selector,current selector " + e), !1;
            var r = this.startDate.getTime(), s = (this.endDate.getTime(), this.date.getTime());
            this.element.innerHTML = i.default(this.date, this.endDate, this.dateFormat, this.multiViews, this.flatView, n.setLanguage(t)), this.selected = l.setDefaultRange(this.element, this.element.querySelectorAll(".calendar-date-cell"), this.selected, this.format(this.date).value, this.data, this.double);
            var d = this.element.querySelector(".calendar-action-prev"),
                o = this.element.querySelector(".calendar-action-next");
            d && o && (n.diff(this.date, this.endDate) >= 2 ? o.addEventListener("click", function () {
                a.monthSwitch(1, e, t), n.removeClass(d, "disabled"), n.removeClass(d, "calendar-action-disabled")
            }) : (n.addClass(o, "disabled"), n.addClass(o, "calendar-action-disabled")), s > r ? d.addEventListener("click", function () {
                a.monthSwitch(-1, e, t), n.removeClass(o, "disabled"), n.removeClass(o, "calendar-action-disabled")
            }) : (n.addClass(d, "disabled"), n.addClass(d, "calendar-action-disabled")))
        }, t.init = function (e, t) {
            e.format && (this.dateFormat = e.format), !e.multiViews && e.flatView && (this.multiViews = !1, this.flatView = !0), !e.flatView && e.multiViews && (this.flatView = !1, this.multiViews = !0), e.flatView || e.multiViews || (this.flatView = !1, this.multiViews = !1), this.double = !!n.isBoolean(e.doubleSelect) && e.doubleSelect, this.startDate = n.isDate(e.from) ? e.from : new Date, this.date = this.startDate, this.endDate = n.isDate(e.to) ? e.to : new Date(this.date.getFullYear(), this.date.getMonth() + 6, this.date.getDate()), this.limit = this.double && n.isNumber(e.limit) ? e.limit : 1, this.data = t, this.buildCalendar(e.el, n.getLanguage(e.language, e.defaultLanguage)), this.handlePickDate(this.element, this.selected, this.double, this.data, this.parse, this.format, this.limit, this.update)
        }
    });
    e(s);
    var d = t(function (e, t) {
        function a(e, t, a, i, s, d, o) {
            var u = {start: a.querySelector(".start-date"), end: a.querySelector(".end-date")},
                c = a.querySelectorAll(".active");
            if (d) {
                var h = e[0], f = e[e.length - 1], v = {
                    start: a.querySelector(n.attrSelector("data-date", h)),
                    end: a.querySelector(n.attrSelector("data-date", f))
                };
                if (h === f) n.removeClass(u.start, "start-date"), n.removeClass(u.start, "active"), n.removeClass(u.end, "end-date"), n.removeClass(u.end, "active"), n.addClass(v.start, "active"), n.addClass(v.start, "start-date"); else {
                    var g = r(i(h), i(f));
                    n.addClass(v.end, "active"), g > 0 ? g > s ? (n.addClass(v.end, "start-date"), n.removeClass(u.start, "start-date"), n.removeClass(u.start, "active")) : o ? n.addClass(v.end, "end-date") : (n.removeClass(v.start, "active"), n.removeClass(v.start, "start-date"), n.addClass(v.end, "start-date")) : g < 0 && (n.removeClass(v.start, "active"), n.removeClass(v.start, "start-date"), n.addClass(v.end, "start-date"))
                }
                l.ranged([], a, !0), o && l.ranged(t, a, !1)
            } else {
                for (var m = 0; m < c.length; m++)n.removeClass(c[m], "active");
                n.addClass(a.querySelector(n.attrSelector("data-date", e[0])), "active")
            }
        }

        function r(e, t) {
            var a = n.diff(e, t, "days");
            return 0 === a ? 0 : -1 * a
        }

        t.__esModule = !0, t.default = function (e, t, i, l, s, d, o, u) {
            for (var c = e.querySelectorAll(".calendar-date-cell"), h = 0; h < c.length; h++)!function (h) {
                var f = c[h];
                f.addEventListener("click", function (c) {
                    var h = !1, v = t, g = [], m = [], p = n.attr(f, "data-date"), D = t.indexOf(p);
                    if (!p || D >= 0)return !1;
                    if ((i && t.length >= 2 || !i) && (t = []), t.push(p), i) {
                        var y = t[0], w = t[t.length - 1], b = s(y), C = r(b, s(w)), M = t.length;
                        if (M >= 2)if (C <= 0) l[p] ? t.shift() : t = [t[0]]; else if (l[w])for (var Y = b.getFullYear(), S = b.getMonth(), F = b.getDate(), k = 1; k < C; k++) {
                            var x = new Date(Y, S, F + k), L = d(x).value;
                            l[L] && m.push(L), g.push(L)
                        } else!l && w && (t.shift(), g.push(w)); else if (1 === M) {
                            var q = t[t.length - 1];
                            l[q] ? (t = []).push(q) : t = v
                        } else t = v;
                        if ((h = g.length === m.length) || (t = [t[t.length - 1]]), 2 === t.length) {
                            var A = null, _ = t[t.length - 1], j = s(_), V = s(t[0]), O = -1 * r(j, V);
                            if (O > 0) {
                                var Y = V.getFullYear(), S = V.getMonth(), P = V.getDate();
                                g = [], m = [];
                                for (var T = 0; T < O; T++) {
                                    var x = new Date(Y, S, P + T), $ = d(x).value;
                                    l[$] && (A = $, m.push($)), ~g.indexOf($) || g.push($)
                                }
                                var E = r(s(A), j);
                                1 === E || -1 === E ? h = !0 : (g = [], t = [t[0]], h = !1)
                            }
                            m.length === g.length ? h = !0 : (h = !1, t = [t[0]]), g.length > o && (h = !1, t = [t[t.length - 1]])
                        }
                    }
                    a(t, g, e, s, o, i, h), u(t)
                })
            }(h)
        }
    });
    return e(d), e(t(function (e, t) {
        t.__esModule = !0;
        var i = function () {
            return function (e) {
                var t = this;
                return this.init = s.init, this.date = new Date, this.limit = 1, this.double = !1, this.dateFormat = "YYYY-MM-DD", this.element = null, this.startDate = new Date, this.endDate = null, this.selected = [], this.flatView = !1, this.multiViews = !1, this.monthSwitch = s.monthSwitch, this.buildCalendar = s.buildCalendar, this.handlePickDate = d.default, this.format = function (e) {
                    return r.format(e, t.dateFormat)
                }, this.parse = function (e) {
                    return r.parseFormatted(e, t.dateFormat)
                }, this.update = function (e) {
                    a.default.$emit("update", e), t.selected = e
                }, {
                    on: a.default.$on, data: function (n) {
                        t.init(e, n), a.default.$emit("data", {
                            data: n,
                            nodeList: t.element.querySelectorAll(".calendar-date-cell")
                        }), t.update(t.selected)
                    }, diff: function (e, t) {
                        return n.diff(e, t, "days")
                    }, parse: this.parse, format: this.format
                }
            }
        }();
        t.default = i
    }))
});